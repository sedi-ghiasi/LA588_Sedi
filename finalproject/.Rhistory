addPolygons(
data = data.frame(
id = 1,
lon = unlist(lapply(study_area_coords, function(x) x[1])),
lat = unlist(lapply(study_area_coords, function(x) x[2]))
),
fillColor = "#ff0000",
fillOpacity = 0.2,
weight = 2,
color = "#ff0000"
)
library(leaflet)
library (sf)
# set coordinates for Des Moines
des_moines <- c(lon = -93.6091, lat = 41.6005)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = des_moines[1], lat = des_moines[2], zoom = 11) %>%
addTiles()
# define the coordinates of the polygon
study_area_coords <- list(
c(-93.600, 41.605),
c(-93.600, 41.595),
c(-93.620, 41.595),
c(-93.620, 41.605)
)
# create the polygon
study_area_polygon <- leaflet() %>%
addPolygons(
data = data.frame(
id = 1,
lon = unlist(lapply(study_area_coords, function(x) x[1])),
lat = unlist(lapply(study_area_coords, function(x) x[2]))
),
fillColor = "#ff0000",
fillOpacity = 0.2,
weight = 2,
color = "#ff0000"
)
install.packages("sf")
install.packages("sf")
library(leaflet)
library (sf)
coords <- matrix(c(
-93.600, 41.605,
-93.600, 41.595,
-93.620, 41.595,
-93.620, 41.605), ncol = 2, byrow = TRUE)
# Create an sf object from the coordinates
polygon <- st_polygon(list(coords))
# Define the coordinates of the polygon(s)
polygon1 <- c(-93.6091, 41.6005)
polygon2 <- c(-93.6091, 41.6015)
polygon3 <- c(-93.6092, 41.6015)
polygon4 <- c(-93.6092, 41.6005)
# Combine the coordinates into a matrix and add the first point as the last point to close the polygon
coords <- rbind(polygon1, polygon2, polygon3, polygon4, polygon1)
# Create a Leaflet map and add the polygon
map <- leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 15) %>%
addTiles() %>%
addPolygons(data = list(coords), fillColor = "red", fillOpacity = 0.2, weight = 2)
# Define the coordinates of the polygon(s)
polygon1 <- c(-93.6091, 41.6005)
polygon2 <- c(-93.6091, 41.6015)
polygon3 <- c(-93.6092, 41.6015)
polygon4 <- c(-93.6092, 41.6005)
# Combine the coordinates into a matrix and add the first point as the last point to close the polygon
coords <- rbind(polygon1, polygon2, polygon3, polygon4, polygon1)
# Create a Leaflet map and add the polygon
map <- leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 15) %>%
addTiles() %>%
addPolygons(data = list(coords), fillColor = "red", fillOpacity = 0.2, weight = 2)
library(leaflet)
library (sf)
library(leaflet)
# Define the coordinates of the polygon(s)
polygon1 <- c(-93.6091, 41.6005)
polygon2 <- c(-93.6091, 41.6015)
polygon3 <- c(-93.6092, 41.6015)
polygon4 <- c(-93.6092, 41.6005)
# Combine the coordinates into a matrix and add the first point as the last point to close the polygon
coords <- rbind(polygon1, polygon2, polygon3, polygon4, polygon1)
# Create a Leaflet map and add the polygon
map <- leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 15) %>%
addTiles() %>%
addPolygons(data = list(coords), fillColor = "red", fillOpacity = 0.2, weight = 2)
library(leaflet)
library (sf)
library(leaflet)
# Define the coordinates of the polygon(s)
polygon1 <- c(-93.6091, 41.6005)
polygon2 <- c(-93.6091, 41.6015)
polygon3 <- c(-93.6092, 41.6015)
polygon4 <- c(-93.6092, 41.6005)
# Combine the coordinates into a matrix and add the first point as the last point to close the polygon
coords <- rbind(polygon1, polygon2, polygon3, polygon4, polygon1)
# Create a Leaflet map and add the polygon
map <- leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 15) %>%
addTiles() %>%
addPolygons(data = list(coords), fillColor = "red", fillOpacity = 0.2, weight = 2)
library(leaflet)
library (sf)
library(leaflet)
# Define the coordinates of the polygon(s)
polygon1 <- c(-93.6091, 41.6005)
polygon2 <- c(-93.6091, 41.6015)
polygon3 <- c(-93.6092, 41.6015)
polygon4 <- c(-93.6092, 41.6005)
# Combine the coordinates into a matrix and add the first point as the last point to close the polygon
coords <- rbind(polygon1, polygon2, polygon3, polygon4, polygon1)
# Create a Leaflet map and add the polygon
map <- leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 15) %>%
addTiles() %>%
addPolygons(data = list(coords), fillColor = "red", fillOpacity = 0.2, weight = 2)
library(leaflet)
library (sf)
library(leaflet)
# Define the coordinates of the polygon(s)
polygon1 <- c(-93.6091, 41.6005)
polygon2 <- c(-93.6091, 41.6015)
polygon3 <- c(-93.6092, 41.6015)
polygon4 <- c(-93.6092, 41.6005)
# Combine the coordinates into a matrix and add the first point as the last point to close the polygon
coords <- rbind(polygon1, polygon2, polygon3, polygon4, polygon1)
# Create a Leaflet map and add the polygon
map <- leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 15) %>%
addTiles() %>%
addPolygons(data = list(coords), fillColor = "red", fillOpacity = 0.2, weight = 2)
# Define the coordinates of the polygon(s)
polygon1 <- c(-93.6091, 41.6005)
polygon2 <- c(-93.6091, 41.6015)
polygon3 <- c(-93.6092, 41.6015)
polygon4 <- c(-93.6092, 41.6005)
# Combine the coordinates into a matrix and add the first point as the last point to close the polygon
coords <- rbind(polygon1, polygon2, polygon3, polygon4, polygon1)
# Create a Leaflet map and add the polygon
map <- leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 15) %>%
addTiles() %>%
addPolygons(data = list(coords), fillColor = "red", fillOpacity = 0.2, weight = 2)
polygon_df <- data.frame(
id = 1:2,
lon = c(-93.5991, -93.6191),
lat = c(41.5905, 41.6105)
)
# create a leaflet map
leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 11) %>%
addTiles() %>%
addPolygons(
data = polygon_df,
fillColor = "blue",
fillOpacity = 0.5,
stroke = FALSE,
smoothFactor = 0.5
)
library(leaflet)
library(sf)
# create a data.frame with polygon data
polygon_df <- data.frame(
id = 1:2,
lon = c(-93.5991, -93.6191),
lat = c(41.5905, 41.6105)
)
# convert data.frame to sf object
polygon_sf <- st_as_sf(polygon_df, coords = c("lon", "lat"))
# create a leaflet map
leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 11) %>%
addTiles() %>%
addPolygons(
data = polygon_sf,
fillColor = "blue",
fillOpacity = 0.5,
stroke = FALSE,
smoothFactor = 0.5
)
library(leaflet)
library(sf)
# create a data.frame with polygon data
polygon_df <- data.frame(
id = 1:2,
lon = c(-93.5991, -93.6191),
lat = c(41.5905, 41.6105)
)
# convert data.frame to sf object
polygon_sf <- st_as_sf(polygon_df, coords = c("lon", "lat"))
# create a leaflet map
leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 11) %>%
addTiles() %>%
addPolygons(
data = polygon_sf,
fillColor = "blue",
fillOpacity = 0.5,
stroke = FALSE,
smoothFactor = 0.5
)
# Create a data.frame with polygon data
polygon_df <- data.frame(
id = 1:2,
lon = c(-93.5991, -93.6191),
lat = c(41.5905, 41.6105)
)
# Convert the data to an sf object
polygon_sf <- st_as_sf(polygon_df, coords = c("lon", "lat"), crs = 4326, agr = "constant")
# Create a leaflet map
leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 11) %>%
addTiles() %>%
addPolygons(
data = polygon_sf,
fillColor = "blue",
fillOpacity = 0.5,
stroke = FALSE,
smoothFactor = 0.5
)
# set coordinates for Des Moines
des_moines <- c(lon = -93.6091, lat = 41.6005)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = des_moines[1], lat = des_moines[2], zoom = 11) %>%
addTiles()
# define the coordinates of the polygon
study_area_coords <- list(
c(-93.600, 41.605),
c(-93.600, 41.595),
c(-93.620, 41.595),
c(-93.620, 41.605)
)
# create the polygon as a SpatialPolygonsDataFrame
study_area_polygon <- SpatialPolygons(list(
Polygons(list(Polygon(study_area_coords))),
plotOrder = 1L
))
des_moines_map <- leaflet() %>%
setView(lng = des_moines[1], lat = des_moines[2], zoom = 11) %>%
addTiles()
study_area_coords <- list(
c(-93.600, 41.605),
c(-93.600, 41.595),
c(-93.620, 41.595),
c(-93.620, 41.605)
)
study_area_polygon <- SpatialPolygons(list(
Polygons(list(Polygon(study_area_coords))),
plotOrder = 1L
))
des_moines_map %>% addPolygons(
data = study_area_polygon_df,
fillColor = "#ff0000",
fillOpacity = 0.2,
weight = 2,
color = "#ff0000"
)
# set coordinates for Des Moines
des_moines <- c(lon = -93.6091, lat = 41.6005)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = des_moines[1], lat = des_moines[2], zoom = 11) %>%
addTiles()
# set coordinates for Des Moines
des_moines <- c(lon = -93.6091, lat = 41.6005)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = des_moines[1], lat = des_moines[2], zoom = 11) %>%
addTiles()
# add a marker to the map
marker_coords <- c(lon = -93.6091, lat = 41.6005)
des_moines_map <- des_moines_map %>%
addMarkers(lng = marker_coords[1], lat = marker_coords[2])
# display the map
des_moines_map
des_moines <- c(lon = -93.6091, lat = 41.6005)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = des_moines[1], lat = des_moines[2], zoom = 11) %>%
addTiles()
# create a polygon layer
study_area_coords <- matrix(c(-93.6518, -93.6518, -93.5666, -93.5666),
c(41.5402, 41.6698, 41.6698, 41.5402), byrow = TRUE)
study_area <- addPolygons(des_moines_map, data = list(coords = study_area_coords), fillColor = "blue", fillOpacity = 0.5)
coords <- data.frame(
id = 1,
lon = c(-93.6091, -93.6234, -93.6120, -93.6014),
lat = c(41.6005, 41.6019, 41.6072, 41.6076)
)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 11) %>%
addTiles() %>%
# add polygon to the map
addPolygons(
data = coords,
fillColor = "blue",
fillOpacity = 0.5,
color = "black",
weight = 1
)
des_moines <- c(lon = -93.6091, lat = 41.6005)
# set coordinates for study area
study_area_coords <- list(
c(-93.7, 41.6),
c(-93.7, 41.7),
c(-93.5, 41.7),
c(-93.5, 41.6),
c(-93.7, 41.6)
)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = des_moines[1], lat = des_moines[2], zoom = 11) %>%
addTiles() %>%
addPolygons(
data = list(list(coords = study_area_coords)),
color = "red",
weight = 2,
opacity = 1,
fill = TRUE,
fillColor = "red",
fillOpacity = 0.2
)
# create a data frame with the polygon coordinates
study_area_coords <- data.frame(
lon = c(-93.6602, -93.6602, -93.5999, -93.5999),
lat = c(41.5434, 41.6424, 41.6424, 41.5434)
)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 11) %>%
addTiles() %>%
addPolygons(data = study_area_coords, fillOpacity = 0.5)
# create a data frame with the polygon coordinates
study_area_coords <- data.frame(
lon = c(-93.6602, -93.6602, -93.5999, -93.5999),
lat = c(41.5434, 41.6424, 41.6424, 41.5434)
)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 11) %>%
addTiles() %>%
addPolygons(data = study_area_coords, fillOpacity = 0.5)
# create a data frame with polygon coordinates
coords <- data.frame(
lon = c(-93.65, -93.65, -93.57, -93.57),
lat = c(41.56, 41.67, 41.67, 41.56)
)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 11) %>%
addTiles()
# add the polygon layer to the map
des_moines_map %>%
addPolygons(data = coords)
coords <- data.frame(
lon = c(-93.65, -93.65, -93.57, -93.57),
lat = c(41.56, 41.67, 41.67, 41.56)
)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = -93.6091, lat = 41.6005, zoom = 11) %>%
addTiles()
# add the polygon layer to the map
des_moines_map %>%
addPolygons(data = coords)
install.packages("sp")
install.packages("sp")
library(sp)
study_area_poly <- SpatialPolygons(list(Polygons(list(Polygon(study_area_df)), ID = 1)))
lon <- c(-93.6091, -93.6223, -93.6758, -93.6404)
lat <- c(41.6005, 41.5734, 41.6119, 41.6401)
study_area_df <- data.frame(lon, lat)
# create a SpatialPolygons object
study_area_poly <- SpatialPolygons(list(Polygons(list(Polygon(study_area_df)), ID = 1)))
# create a SpatialPolygonsDataFrame object
study_area_spdf <- SpatialPolygonsDataFrame(study_area_poly, data.frame(id = 1))
# plot the polygon on a Leaflet map
leaflet() %>%
addProviderTiles("CartoDB.Positron") %>%
addPolygons(data = study_area_spdf, fillColor = "blue", fillOpacity = 0.5)
# set coordinates for Des Moines
des_moines <- c(lon = -93.6091, lat = 41.6005)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = des_moines[1], lat = des_moines[2], zoom = 11) %>%
addPolygons(data = study_area_coords, fillColor = "blue", fillOpacity = 0.3, stroke = FALSE) %>%
addTiles()
des_moines <- c(lon = -93.6091, lat = 41.6005)
des_moines
lon <- c(-93.6091, -93.6223, -93.6758, -93.6404)
lat <- c(41.6005, 41.5734, 41.6119, 41.6401)
study_area_df <- data.frame(lon, lat)
# set coordinates for Des Moines
des_moines <- c(lon = -93.6091, lat = 41.6005)
# create a SpatialPolygons object
study_area_poly <- SpatialPolygons(list(Polygons(list(Polygon(study_area_df)), ID = 1)))
# create a SpatialPolygonsDataFrame object
study_area_spdf <- SpatialPolygonsDataFrame(study_area_poly, data.frame(id = 1))
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = des_moines[1], lat = des_moines[2], zoom = 11) %>%
addPolygons(data = study_area_coords, fillColor = "blue", fillOpacity = 0.3, stroke = FALSE) %>%
addTiles() %>%
addPolygons(data = study_area_spdf, fillColor = "red", fillOpacity = 0.5)
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = des_moines[1], lat = des_moines[2], zoom = 11) %>%
addPolygons(data = study_area_coords, fillColor = "blue", fillOpacity = 0.3, stroke = FALSE) %>%
addTiles()
# create some sample data
lon <- c(-93.6091, -93.6223, -93.6758, -93.6404)
lat <- c(41.6005, 41.5734, 41.6119, 41.6401)
study_area_df <- data.frame(lon, lat)
# create a SpatialPolygons object
study_area_poly <- SpatialPolygons(list(Polygons(list(Polygon(study_area_df)), ID = 1)))
# create a SpatialPolygonsDataFrame object
study_area_spdf <- SpatialPolygonsDataFrame(study_area_poly, data.frame(id = 1))
# plot the polygon on a Leaflet map
leaflet() %>%
addProviderTiles("CartoDB.Positron") %>%
addPolygons(data = study_area_spdf, fillColor = "blue", fillOpacity = 0.5)
center <- c(lon = -93.6091, lat = 41.6005)
# set radius of circle in meters
radius <- 1000
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = center[1], lat = center[2], zoom = 11) %>%
addCircleMarkers(lng = center[1], lat = center[2], radius = radius, fillColor = "blue", fillOpacity = 0.3, stroke = FALSE) %>%
addTiles()
# display the map
des_moines_map
center <- c(lon = -93.6091, lat = 41.6005)
# set radius of circle in meters
radius <- 10
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = center[1], lat = center[2], zoom = 11) %>%
addCircleMarkers(lng = center[1], lat = center[2], radius = radius, fillColor = "blue", fillOpacity = 0.3, stroke = FALSE) %>%
addTiles()
# display the map
des_moines_map
center <- c(lon = -93.6091, lat = 41.6005)
# set radius of circle in meters
radius <- 100
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = center[1], lat = center[2], zoom = 11) %>%
addCircleMarkers(lng = center[1], lat = center[2], radius = radius, fillColor = "blue", fillOpacity = 0.3, stroke = FALSE) %>%
addTiles()
# display the map
des_moines_map
# set coordinates for center of circle
center <- c(lon = -93.6091, lat = 41.6005)
# set radius of circle in meters
radius <- 100
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = center[1], lat = center[2], zoom = 11) %>%
addCircleMarkers(lng = center[1], lat = center[2], radius = radius, fillColor = "darkgreen", fillOpacity = 0.3, stroke = FALSE) %>%
addTiles()
# display the map
des_moines_map
center <- c(lon = -93.6091, lat = 41.6005)
# set radius of circle in meters
radius <- 100
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = center[1], lat = center[2], zoom = 11) %>%
addCircleMarkers(lng = center[1], lat = center[2], radius = radius, fillColor = "darkgreen", fillOpacity = 0.3, stroke = FALSE) %>%
addTiles()
library(leaflet)
library(sp)
install.packages()
library(leaflet)
library(sp)
# set coordinates for center of circle
center <- c(lon = -93.6091, lat = 41.6005)
# set radius of circle in meters
radius <- 100
# create a leaflet map centered on Des Moines
des_moines_map <- leaflet() %>%
setView(lng = center[1], lat = center[2], zoom = 11) %>%
addCircleMarkers(lng = center[1], lat = center[2], radius = radius, fillColor = "darkgreen", fillOpacity = 0.3, stroke = FALSE) %>%
addTiles()
# display the map
des_moines_map
install.packages(c("leaflet","sp"))
install.packages(c("leaflet", "sp"))
library(leaflet)
library(sp)
install.packages("ggplot2")
grid <- st_read("gird_400.shp")
install.packages("sf")
library(sf)
library(raster)
grid <- st_read("gird_400.shp")
setwd("C:/Users/ghiasi/Documents/GitHub/LA588_Sedi/final project")
grid <- st_read("gird_400.shp")
tree <- raster("tree.tif")
tree <- raster("tree.tif")
building_excel<- read.csv("zonal_building.csv")
tree_excel<-read.csv("zonal_tree.csv")
grid <- st_read("gird_400.shp")
names(building_excel)
names(building_excel)
# join the shapefile and the table based on a common FID column
merged_data <- merge(grid, tree_excel, by.x = "FId", by.y = "FID")
